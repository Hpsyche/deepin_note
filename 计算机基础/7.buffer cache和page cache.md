page cache：文件系统层级的缓存，从磁盘里读取的内容是存储到这里，这样程序读取磁盘内容就会非常快，**比如使用grep和find等命令查找内容和文件时，第一次会慢很多，再次执行就快好多倍**，几乎是瞬间。如果page cache的数据被修改过后，也即脏数据，等到写入磁盘时机到来时，会转移到buffer cache 而不是直接写入到磁盘。

buffer cache：磁盘等块设备的缓冲，内存的这一部分是要写入到磁盘里的。

（以最直接的理解：page cache为写缓存，buffer cache为读缓存）

![](/media/hpsyche/_dde_data/note/计算机基础/pict/12-3.png)

![](/media/hpsyche/_dde_data/note/计算机基础/pict/7-2.png)

pageCache 是操作系统对磁盘 io 的缓存优化；cacheLine 是 cpu 对内存 io 的缓存优化

pageCache是内存与硬盘的；cacheLine是cpu与内存之间的

除了direct io，其他 io 方式都是借助 pageCache 来落盘的。